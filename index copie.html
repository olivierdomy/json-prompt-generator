<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GÃ©nÃ©rateur de Prompts â€“ v5</title>
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/form.css">
</head>
<body>
  <div class="copyright">Â© Olivier DOMY â€“ AoÃ»t 2025</div>
  <h1>GÃ©nÃ©rateur de Prompts â€“ v5</h1>

  <form id="promptForm">
    <div class="topbar">
      <label>Nom du prompt</label>
      <input id="promptName" placeholder="AVV_IA_Generative" required />
    </div>

    <div id="featureToggles" class="panel">
      <label class="inline"><input type="checkbox" id="enablePowerPoint"> Activer PowerPoint</label>
      <label class="inline"><input type="checkbox" id="enableImages"> Activer GÃ©nÃ©ration Image</label>
    </div>

    <div id="pptOptions" class="panel hidden">
      <h3>ğŸ§© Option PowerPoint</h3>
      <label>Layout par dÃ©faut (layout_id)</label>
      <input id="defaultLayoutId" placeholder="S03_TitleBodyPictureRight" />
      <label>Manifeste (JSON complet)</label>
      <textarea id="manifestInput" rows="6"></textarea>
      <button type="button" id="parseManifestBtn">Analyser le manifeste</button>
      <div id="manifestSummary" class="panel hidden"><div id="manifestInfo" class="muted"></div></div>
    </div>

    <div id="imageDefaults" class="panel hidden">
      <h3>ğŸ–¼ï¸ Image â€“ options globales</h3>
      <div class="row">
        <div class="col"><label>Concept</label><input id="imageConcept"></div>
        <div class="col"><label>Style</label>
          <select id="imageStyleKey">
            <option value=""></option>
            <option value="ligne_claire">Ligne claire</option>
            <option value="flat">Flat</option>
            <option value="isometrique">IsomÃ©trique</option>
            <option value="lowpoly3d">3D low-poly</option>
            <option value="blueprint">Blueprint</option>
            <option value="doodle">Doodle</option>
            <option value="photostudio">Photo studio</option>
            <option value="pixelart">Pixel art</option>
          </select>
        </div>
        <div class="col"><label>Style libre</label><input id="imageStyle"></div>
      </div>
      <div class="row">
        <div class="col"><label>Fit</label><select id="imageFitSel"><option>contain</option><option>cover</option><option>fill</option></select></div>
        <div class="col"><label>Fond</label><select id="imageBgSel"><option value="transparent">Transparent</option><option value="opaque">Opaque</option></select></div>
        <div class="col"><label>Mode taille</label><select id="imageSizeMode"><option value="auto">Auto</option><option value="custom">Custom</option></select></div>
        <div class="col"><label>LargeurÃ—Hauteur (px)</label><input id="imageSizeWH" placeholder="1212x942"></div>
      </div>
      <label class="inline"><input type="checkbox" id="imageNegStd" checked> NÃ©gatifs standard</label>
    </div>

    <h2>Comportement de lâ€™IA</h2>
    <div id="aiBehaviorGrid" class="panel"></div>

    <h2>ğŸ“Œ MÃ©tadonnÃ©es</h2>
    <label>#Objectif</label><textarea id="mainObjective" rows="2"></textarea>
    <label>#Contexte</label><textarea id="context" rows="2"></textarea>
    <label>#RÃ´le</label><input id="globalRole" />

    <h2>ğŸ“‹ Instructions</h2>
    <div id="instructionsContainer"></div>
    <button type="button" id="addInstructionBtn">+ Ajouter une instruction</button>

    <div class="row" style="align-items:center">
      <button type="submit" id="generateBtn">âœ… GÃ©nÃ©rer JSON</button>
      <button type="button" id="copyJsonBtn" disabled>ğŸ“‹ Copier JSON</button>
      <button type="button" id="downloadJsonBtn">ğŸ“¥ TÃ©lÃ©charger JSON</button>
      <button type="button" id="downloadTxtBtn">ğŸ“„ TÃ©lÃ©charger TXT</button>
    </div>
  </form>

  <h2>ğŸ§¾ AperÃ§u JSON</h2>
  <pre id="jsonPreview"></pre>

  <script type="module" src="js/main.js"></script>
</body>
</html>